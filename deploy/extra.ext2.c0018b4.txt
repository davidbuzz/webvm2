 Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_SetThrottleCurveElementPacketID())
        return 0;

    if(_pg_numbytes < getECU_SetThrottleCurveElementMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_SET_THROTTLE_CURVE_ELEMENT
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_SET_THROTTLE_CURVE_ELEMENT)
        return 0;

    // Index into the throttle curve table from 0 to 10 (0% to 100%) throttle input
    // Range of index is 0 to 255.
    (*index) = uint8FromBytes(_pg_data, &_pg_byteindex);

    // Percentage throttle output for this curve element
    // Range of throttleOutput is 0.0f to 127.5f.
    (*throttleOutput) = float32ScaledFrom1UnsignedBytes(_pg_data, &_pg_byteindex, 0.0f, 1.0f/2.0f);

    return 1;

}// decodeECU_SetThrottleCurveElementPacket

/*!
 * \brief Create the ECU_RequestThrottleCurveData packet
 *
 * Request the throttle curve lookup table data. If requested on CAN, the data
 * will be returned on CAN. If requested on RS232, the data will be returned on
 * RS232.
 * \param _pg_pkt points to the packet which will be created by this function
 */
void encodeECU_RequestThrottleCurveDataPacket(void* _pg_pkt)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_REQUEST_THROTTLE_CURVE_DATA), _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_RequestThrottleCurveDataPacketID());

}// encodeECU_RequestThrottleCurveDataPacket

/*!
 * \brief Decode the ECU_RequestThrottleCurveData packet
 *
 * Request the throttle curve lookup table data. If requested on CAN, the data
 * will be returned on CAN. If requested on RS232, the data will be returned on
 * RS232.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_RequestThrottleCurveDataPacket(const void* _pg_pkt, ECUSystemCommands* cmd)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_RequestThrottleCurveDataPacketID())
        return 0;

    if(_pg_numbytes < getECU_RequestThrottleCurveDataMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_REQUEST_THROTTLE_CURVE_DATA
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_REQUEST_THROTTLE_CURVE_DATA)
        return 0;

    return 1;

}// decodeECU_RequestThrottleCurveDataPacket

/*!
 * \brief Create the ECU_ResetFuelUsed packet
 *
 * Reset the FuelUsed value. This will set the FuelUsed data to zero.
 * \param _pg_pkt points to the packet which will be created by this function
 */
void encodeECU_ResetFuelUsedPacket(void* _pg_pkt)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_RESET_FUEL_USED), _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_ResetFuelUsedPacketID());

}// encodeECU_ResetFuelUsedPacket

/*!
 * \brief Decode the ECU_ResetFuelUsed packet
 *
 * Reset the FuelUsed value. This will set the FuelUsed data to zero.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_ResetFuelUsedPacket(const void* _pg_pkt, ECUSystemCommands* cmd)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_ResetFuelUsedPacketID())
        return 0;

    if(_pg_numbytes < getECU_ResetFuelUsedMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_RESET_FUEL_USED
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_RESET_FUEL_USED)
        return 0;

    return 1;

}// decodeECU_ResetFuelUsedPacket

/*!
 * \brief Create the ECU_SetFuelUsedDivisor packet
 *
 * Set the fuel used divisor
 * \param _pg_pkt points to the packet which will be created by this function
 * \param divisor is The fuel used divisor. The fuel used value is divided by this divisor before being transmitted by the auxiliary processor. Set this value to 1 to leave the fuel used data unaffected. If you use values greater than 100 the divisor is automatically interpreted as being in units of 0.01 (i.e. 100 times the resolution).
 */
void encodeECU_SetFuelUsedDivisorPacket(void* _pg_pkt, uint16_t divisor)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_SET_FUEL_USED_DIVISOR), _pg_data, &_pg_byteindex);

    // The fuel used divisor. The fuel used value is divided by this divisor before being transmitted by the auxiliary processor. Set this value to 1 to leave the fuel used data unaffected. If you use values greater than 100 the divisor is automatically interpreted as being in units of 0.01 (i.e. 100 times the resolution).
    // Range of divisor is 0 to 65535.
    uint16ToBeBytes(divisor, _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_SetFuelUsedDivisorPacketID());

}// encodeECU_SetFuelUsedDivisorPacket

/*!
 * \brief Decode the ECU_SetFuelUsedDivisor packet
 *
 * Set the fuel used divisor
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \param divisor receives The fuel used divisor. The fuel used value is divided by this divisor before being transmitted by the auxiliary processor. Set this value to 1 to leave the fuel used data unaffected. If you use values greater than 100 the divisor is automatically interpreted as being in units of 0.01 (i.e. 100 times the resolution).
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_SetFuelUsedDivisorPacket(const void* _pg_pkt, ECUSystemCommands* cmd, uint16_t* divisor)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_SetFuelUsedDivisorPacketID())
        return 0;

    if(_pg_numbytes < getECU_SetFuelUsedDivisorMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_SET_FUEL_USED_DIVISOR
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_SET_FUEL_USED_DIVISOR)
        return 0;

    // The fuel used divisor. The fuel used value is divided by this divisor before being transmitted by the auxiliary processor. Set this value to 1 to leave the fuel used data unaffected. If you use values greater than 100 the divisor is automatically interpreted as being in units of 0.01 (i.e. 100 times the resolution).
    // Range of divisor is 0 to 65535.
    (*divisor) = uint16FromBeBytes(_pg_data, &_pg_byteindex);

    return 1;

}// decodeECU_SetFuelUsedDivisorPacket

/*!
 * \brief Create the ECU_SetFuelUsedResetFlag packet
 *
 * Set or clear the Fuel Used reset flag. If this flag is set, the FuelUsed
 * data will reset (to zero) when the ECU is power cycled.
 * \param _pg_pkt points to the packet which will be created by this function
 * \param reset is 1 = Reset Fuel Used data on powerup 0 = Do not reset Fuel Used data on power up
 */
void encodeECU_SetFuelUsedResetFlagPacket(void* _pg_pkt, uint8_t reset)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_FUEL_USED_RESET_ON_STARTUP), _pg_data, &_pg_byteindex);

    // 1 = Reset Fuel Used data on powerup 0 = Do not reset Fuel Used data on power up
    // Range of reset is 0 to 255.
    uint8ToBytes(reset, _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_SetFuelUsedResetFlagPacketID());

}// encodeECU_SetFuelUsedResetFlagPacket

/*!
 * \brief Decode the ECU_SetFuelUsedResetFlag packet
 *
 * Set or clear the Fuel Used reset flag. If this flag is set, the FuelUsed
 * data will reset (to zero) when the ECU is power cycled.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \param reset receives 1 = Reset Fuel Used data on powerup 0 = Do not reset Fuel Used data on power up
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_SetFuelUsedResetFlagPacket(const void* _pg_pkt, ECUSystemCommands* cmd, uint8_t* reset)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_SetFuelUsedResetFlagPacketID())
        return 0;

    if(_pg_numbytes < getECU_SetFuelUsedResetFlagMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_FUEL_USED_RESET_ON_STARTUP
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_FUEL_USED_RESET_ON_STARTUP)
        return 0;

    // 1 = Reset Fuel Used data on powerup 0 = Do not reset Fuel Used data on power up
    // Range of reset is 0 to 255.
    (*reset) = uint8FromBytes(_pg_data, &_pg_byteindex);

    return 1;

}// decodeECU_SetFuelUsedResetFlagPacket

/*!
 * \brief Create the ECU_SetGovernorMode packet
 *
 * Manually set the RPM governor mode.
 * \param _pg_pkt points to the packet which will be created by this function
 * \param mode is MODE 0 = Governor Off (Open loop throttle control) 1 = Governor based on throttle command 2 = Governor based on RPM command
 */
void encodeECU_SetGovernorModePacket(void* _pg_pkt, ECUGovernorMode mode)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_SET_GOVERNOR_MODE), _pg_data, &_pg_byteindex);

    // MODE 0 = Governor Off (Open loop throttle control) 1 = Governor based on throttle command 2 = Governor based on RPM command
    // Range of mode is 0 to 255.
    uint8ToBytes(mode, _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_SetGovernorModePacketID());

}// encodeECU_SetGovernorModePacket

/*!
 * \brief Decode the ECU_SetGovernorMode packet
 *
 * Manually set the RPM governor mode.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \param mode receives MODE 0 = Governor Off (Open loop throttle control) 1 = Governor based on throttle command 2 = Governor based on RPM command
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_SetGovernorModePacket(const void* _pg_pkt, ECUSystemCommands* cmd, ECUGovernorMode* mode)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_SetGovernorModePacketID())
        return 0;

    if(_pg_numbytes < getECU_SetGovernorModeMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_SET_GOVERNOR_MODE
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_SET_GOVERNOR_MODE)
        return 0;

    // MODE 0 = Governor Off (Open loop throttle control) 1 = Governor based on throttle command 2 = Governor based on RPM command
    // Range of mode is 0 to 255.
    (*mode) = (ECUGovernorMode)uint8FromBytes(_pg_data, &_pg_byteindex);

    return 1;

}// decodeECU_SetGovernorModePacket

/*!
 * \brief Create the ECU_SetSerialMode packet
 *
 * Set the serial mode used for Autronic relay. When Autronic relay is enabled
 * the external serial port of the ECU is reconfigured to connect to ECUCal,
 * relaying bytes to the internal autronic processor; while still allowing the
 * auxiliary processor to see telemetry from Autronic. This is fundamentally
 * different from using the switch to calibration mode, which bypasses the
 * auxiliary processor altogether, cutting it off from autronic telemetry.
 * \param _pg_pkt points to the packet which will be created by this function
 * \param mode is The serial relay mode to command
 */
void encodeECU_SetSerialModePacket(void* _pg_pkt, ECUAutronicRelayState mode)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_SET_SERIAL_MODE), _pg_data, &_pg_byteindex);

    // The serial relay mode to command
    // Range of mode is 0 to 255.
    uint8ToBytes(mode, _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_SetSerialModePacketID());

}// encodeECU_SetSerialModePacket

/*!
 * \brief Decode the ECU_SetSerialMode packet
 *
 * Set the serial mode used for Autronic relay. When Autronic relay is enabled
 * the external serial port of the ECU is reconfigured to connect to ECUCal,
 * relaying bytes to the internal autronic processor; while still allowing the
 * auxiliary processor to see telemetry from Autronic. This is fundamentally
 * different from using the switch to calibration mode, which bypasses the
 * auxiliary processor altogether, cutting it off from autronic telemetry.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \param mode receives The serial relay mode to command
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_SetSerialModePacket(const void* _pg_pkt, ECUSystemCommands* cmd, ECUAutronicRelayState* mode)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_SetSerialModePacketID())
        return 0;

    if(_pg_numbytes < getECU_SetSerialModeMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_SET_SERIAL_MODE
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_SET_SERIAL_MODE)
        return 0;

    // The serial relay mode to command
    // Range of mode is 0 to 255.
    (*mode) = (ECUAutronicRelayState)uint8FromBytes(_pg_data, &_pg_byteindex);

    return 1;

}// decodeECU_SetSerialModePacket

/*!
 * \brief Create the ECU_SetECUAddress packet
 *
 * Set a custom address value for the ECU.
 * \param _pg_pkt points to the packet which will be created by this function
 * \param address is ECU address in the range {1, 65534}
 */
void encodeECU_SetECUAddressPacket(void* _pg_pkt, uint16_t address)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_SET_NODE_ID), _pg_data, &_pg_byteindex);

    // ECU address in the range {1, 65534}
    // Range of address is 0 to 65535.
    uint16ToBeBytes(address, _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_SetECUAddressPacketID());

}// encodeECU_SetECUAddressPacket

/*!
 * \brief Decode the ECU_SetECUAddress packet
 *
 * Set a custom address value for the ECU.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \param address receives ECU address in the range {1, 65534}
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_SetECUAddressPacket(const void* _pg_pkt, ECUSystemCommands* cmd, uint16_t* address)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_SetECUAddressPacketID())
        return 0;

    if(_pg_numbytes < getECU_SetECUAddressMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_SET_NODE_ID
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_SET_NODE_ID)
        return 0;

    // ECU address in the range {1, 65534}
    // Range of address is 0 to 65535.
    (*address) = uint16FromBeBytes(_pg_data, &_pg_byteindex);

    return 1;

}// decodeECU_SetECUAddressPacket

/*!
 * \brief Create the ECU_SetUserData packet
 *
 * Save a single byte of USER_DATA in EEPROM.
 * \param _pg_pkt points to the packet which will be created by this function
 * \param index is USER_DATA address (0 to 7)
 * \param userdata is USER_DATA variable
 */
void encodeECU_SetUserDataPacket(void* _pg_pkt, uint8_t index, uint8_t userdata)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_SET_USER_DATA), _pg_data, &_pg_byteindex);

    // USER_DATA address (0 to 7)
    // Range of index is 0 to 255.
    uint8ToBytes(index, _pg_data, &_pg_byteindex);

    // USER_DATA variable
    // Range of userdata is 0 to 255.
    uint8ToBytes(userdata, _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_SetUserDataPacketID());

}// encodeECU_SetUserDataPacket

/*!
 * \brief Decode the ECU_SetUserData packet
 *
 * Save a single byte of USER_DATA in EEPROM.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \param index receives USER_DATA address (0 to 7)
 * \param userdata receives USER_DATA variable
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_SetUserDataPacket(const void* _pg_pkt, ECUSystemCommands* cmd, uint8_t* index, uint8_t* userdata)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_SetUserDataPacketID())
        return 0;

    if(_pg_numbytes < getECU_SetUserDataMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_SET_USER_DATA
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_SET_USER_DATA)
        return 0;

    // USER_DATA address (0 to 7)
    // Range of index is 0 to 255.
    (*index) = uint8FromBytes(_pg_data, &_pg_byteindex);

    // USER_DATA variable
    // Range of userdata is 0 to 255.
    (*userdata) = uint8FromBytes(_pg_data, &_pg_byteindex);

    return 1;

}// decodeECU_SetUserDataPacket

/*!
 * \brief Create the ECU_ResetEngineTime packet
 *
 * Reset the engine runtime.
 * \param _pg_pkt points to the packet which will be created by this function
 * \param time is The new value of the engine time counter in seconds
 */
void encodeECU_ResetEngineTimePacket(void* _pg_pkt, uint32_t time)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_RESET_ENGINE_TIME), _pg_data, &_pg_byteindex);

    // The new value of the engine time counter in seconds
    // Range of time is 0 to 16777215.
    uint24ToBeBytes((uint32_t)(limitMax(time, 16777215)), _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_ResetEngineTimePacketID());

}// encodeECU_ResetEngineTimePacket

/*!
 * \brief Decode the ECU_ResetEngineTime packet
 *
 * Reset the engine runtime.
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \param time receives The new value of the engine time counter in seconds
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_ResetEngineTimePacket(const void* _pg_pkt, ECUSystemCommands* cmd, uint32_t* time)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_ResetEngineTimePacketID())
        return 0;

    if(_pg_numbytes < getECU_ResetEngineTimeMinDataLength())
        return 0;

    // this packet has default fields, make sure they are set
    (*time) = 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_RESET_ENGINE_TIME
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_RESET_ENGINE_TIME)
        return 0;

    if(_pg_byteindex + 3 > _pg_numbytes)
        return 1;

    // The new value of the engine time counter in seconds
    // Range of time is 0 to 16777215.
    (*time) = (uint32_t)uint24FromBeBytes(_pg_data, &_pg_byteindex);

    return 1;

}// decodeECU_ResetEngineTimePacket

/*!
 * \brief Create the ECU_ResetECU packet
 *
 * Reset the ECU
 * \param _pg_pkt points to the packet which will be created by this function
 */
void encodeECU_ResetECUPacket(void* _pg_pkt)
{
    uint8_t* _pg_data = getECUPacketData(_pg_pkt);
    int _pg_byteindex = 0;

    // The command enumeration
    uint8ToBytes((uint8_t)(CMD_ECU_RESET_ECU), _pg_data, &_pg_byteindex);

    // Required constant value
    uint8ToBytes((uint8_t)(0xA5), _pg_data, &_pg_byteindex);

    // Required constant value
    uint8ToBytes((uint8_t)(0x5A), _pg_data, &_pg_byteindex);

    // Required constant value
    uint8ToBytes((uint8_t)(0xCC), _pg_data, &_pg_byteindex);

    // complete the process of creating the packet
    finishECUPacket(_pg_pkt, _pg_byteindex, getECU_ResetECUPacketID());

}// encodeECU_ResetECUPacket

/*!
 * \brief Decode the ECU_ResetECU packet
 *
 * Reset the ECU
 * \param _pg_pkt points to the packet being decoded by this function
 * \param cmd receives The command enumeration
 * \return 0 is returned if the packet ID or size is wrong, else 1
 */
int decodeECU_ResetECUPacket(const void* _pg_pkt, ECUSystemCommands* cmd)
{
    int _pg_byteindex = 0;
    const uint8_t* _pg_data = getECUPacketDataConst(_pg_pkt);
    int _pg_numbytes = getECUPacketSize(_pg_pkt);

    // Verify the packet identifier
    if(getECUPacketID(_pg_pkt) != getECU_ResetECUPacketID())
        return 0;

    if(_pg_numbytes < getECU_ResetECUMinDataLength())
        return 0;

    // The command enumeration
    // Range of cmd is 0 to 255.
    // Decoded value must be CMD_ECU_RESET_ECU
    (*cmd) = (ECUSystemCommands)uint8FromBytes(_pg_data, &_pg_byteindex);
    if ((*cmd) != CMD_ECU_RESET_ECU)
        return 0;

    // Required constant value
    if (uint8FromBytes(_pg_data, &_pg_byteindex) != (uint8_t) 0xA5)
        return 0;

    // Required constant value
    if (uint8FromBytes(_pg_data, &_pg_byteindex) != (uint8_t) 0x5A)
        return 0;

    // Required constant value
    if (uint8FromBytes(_pg_data, &_pg_byteindex) != (uint8_t) 0xCC)
        return 0;

    return 1;

}// decodeECU_ResetECUPacket
// end of ECUPackets.c
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       